# ═══════════════════════════════════════════════════════════════════════
# ONEE FPCA Forecast Configuration - SRM (Régions)
# ═══════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────
# PROJECT
# ───────────────────────────────────────────────────────────────────────
project:
  project_root: .
  exp_name: srm_test

# ───────────────────────────────────────────────────────────────────────
# DATA
# ───────────────────────────────────────────────────────────────────────
data:
  variable: consommation_kwh
  unit: Kwh
  # regions dict: key=region_name, value=run_level_mode
  # 0: Total SRM only
  # 1: Both Individual Activities and Total SRM (level 7)
  regions:
    Casablanca-Settat: 0
    Béni Mellal-Khénifra: 0
    Drâa-Tafilalet: 0
    Fès-Meknès: 0
    Laâyoune-Sakia El Hamra: 0
    Marrakech-Safi: 0
    Oriental: 0
    Rabat-Salé-Kénitra: 0
    Tanger-Tétouan-Al Hoceïma: 0
    Souss-Massa: 0
  
  # Database paths
  db_path: data/all_data.db


# ───────────────────────────────────────────────────────────────────────
# EVALUATION
# ───────────────────────────────────────────────────────────────────────
evaluation:
  eval_years_start: 2021
  eval_years_end: 2023
  train_start_year: 2007
  training_end: null

# ───────────────────────────────────────────────────────────────────────
# FEATURES
# ───────────────────────────────────────────────────────────────────────
features:
  feature_blocks:
    none: []
    gdp_only: [pib_mdh]
    sectoral_only: [gdp_primaire, gdp_secondaire, gdp_tertiaire]
    gdp_sectoral: [pib_mdh, gdp_primaire, gdp_secondaire, gdp_tertiaire]
  
  growth_feature_transforms:
    - [lag_lchg]
  
  growth_feature_lags:
    - [1]
  
  use_monthly_clients_options: [true, false]
  use_pf_options: [false]

# ───────────────────────────────────────────────────────────────────────
# MODEL HYPERPARAMETERS
# ───────────────────────────────────────────────────────────────────────
model:
  n_pcs: 3
  lags_options: [2, 3]
  alphas: [0.1, 1.0, 10.0]
  pc_weights: [0.2, 0.5]
  pca_lambdas: [0.3, 0.7, 1.0]
  training_windows: [4, 7, 10]
  client_pattern_weights: [0.3, 0.5, 0.8]
  r2_threshold: 0.6

# ───────────────────────────────────────────────────────────────────────
# LOSS CONFIGURATION
# ───────────────────────────────────────────────────────────────────────
loss:
  favor_overestimation: true
  under_estimation_penalty: 1.5
  penalties_by_level: null
